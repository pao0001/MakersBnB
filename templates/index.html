{% extends "layout.html" %}

{% block title %}MakersBnB | Listings{% endblock %}

{% block content %}
<!-- Heading as a card -->
<div style="
    border: 1px solid black;
    padding: 20px;
    background-color: rgb(245, 157, 157);
    border-radius: 12px;
    margin-bottom: 20px;
    width: 100%;
    box-sizing: border-box;
    text-align: center;
">
    <h1 style="margin: 0;">Available Properties</h1>
</div>

<!-- Outer wrapper with side borders -->
<div style="
    border-left: 3px solid #ffcf60;
    border-right: 3px solid #ffcf60;
    padding: 0 30px;
">

    <h4 style="text-align: center;">
        To add your property to MakersBnB please click 
        <a href="/create-property">here</a> or call: 07123456789
    </h4>

    <!-- Grid container -->
    <div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">
        {% for property in properties %}
            <!-- Each card -->
            <div style="
                border: 1px solid rgb(0, 0, 0);
                padding: 10px;
                background-color: rgb(251, 219, 133);
                width: 300px;
                box-sizing: border-box;
                border-radius: 12px;
                flex-shrink: 0;
            ">
                <a href="{{ url_for('show_property', property_id=property.id) }}">
                    <img src="{{ house_images[property.id] }}" alt="Property image" width="100%">
                </a>
                <h3>{{ property.description.split()[:5] | join(' ') }}{% if property.description.split()|length > 5 %}...{% endif %}</h2>
                <p>{{ property.address }}</p>
                <p>From Â£{{ property.price_per_night }} / night</p>
            </div>
        {% endfor %}
    </div>

</div>
{% endblock %}
