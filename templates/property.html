{% extends "layout.html" %}

{% block title %}{{ property.title }}{% endblock %}

{% block content %}
<div style="
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    justify-content: center;
    align-items: flex-start;
    padding: 20px;
">
    <div style="
    border: 1px solid black;
    padding: 20px;
    background-color: rgb(245, 157, 157);
    border-radius: 12px;
    margin-bottom: 20px;
    width: 100%;
    box-sizing: border-box;
    text-align: center;
    ">
        <h1>{{ property.description }}</h1>
    </div>
    <!-- Left: Property Image -->
    <div style="flex: 1 1 300px; max-width: 500px;">
        <img src="{{ house_images[property.id] }}" alt="Property image" style="width: 100%; border-radius: 12px;">
    </div>

    <!-- Right: Property Details -->
    <div style="flex: 1 1 400px; max-width: 600px;">

        <p class="t-name"><strong>Name:</strong> {{ property.name }}</p>
        <p class="t-email"><strong>Email:</strong> {{ property.email }}</p>
        <p class="t-phone_number"><strong>Phone Number:</strong> {{ property.phone_number }}</p>
        <p class="t-address"><strong>Address:</strong> {{ property.address }}</p>
        <p class="t-description"><strong>Description:</strong> {{ property.description }}</p>
        <p class="t-price_per_night"><strong>Price per night:</strong> £{{ property.price_per_night }}</p>
        <p class="t-availability"><strong>Availability:</strong> {{ property.availability }}</p>
        <p class="t-user_id"><strong>User ID:</strong> {{ property.user_id }}</p>

        <div style="margin-top: 20px;">
            <form method="POST" action="/delete/{{ property.id }}" onsubmit="return confirm('Are you sure you want to delete this property?');" style="display: inline-block; margin-right: 10px;">
                <input type="submit" value="Delete Property" class="btn btn-danger">
            </form>

            <form method="POST" action="/update/{{ property.id }}" onsubmit="event.preventDefault(); window.open('/edit/{{ property.id }}', 'UpdateProperty', 'width=600,height=400'); return false;" style="display: inline-block;">
                <input type="submit" value="Update Property" class="btn btn-warning">
            </form>
        </div>

        <a href="/" class="btn btn-secondary mt-3">← Back to all properties</a>
    </div>
</div>
{% endblock %}
